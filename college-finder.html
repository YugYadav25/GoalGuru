<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>College Finder - CareerCompass</title>
    <link rel="stylesheet" href="../css/style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Navigation -->
        <nav class="navbar">
            <div class="nav-brand">
                <i class="fas fa-compass"></i>
                <h1>CareerCompass</h1>
            </div>
            <div class="nav-links">
                <a href="../index.html">Home</a>
                <a href="12th-dashboard.html">Dashboard</a>
                <a href="resource-hub.html">Resources</a>
                <button class="btn btn-outline" onclick="logout()">Logout</button>
            </div>
        </nav>

        <!-- College Finder Header -->
        <section class="college-finder-header">
            <div class="section-header">
                <h1>College Finder</h1>
                <p>Discover colleges that match your preferences, budget, and career goals</p>
            </div>
        </section>

        <!-- Filter Section -->
        <section class="college-filters">
            <div class="filter-container">
                <div class="filter-group">
                    <label for="streamFilter">Stream</label>
                    <select id="streamFilter" onchange="applyFilters()">
                        <option value="">All Streams</option>
                        <option value="engineering">Engineering</option>
                        <option value="medical">Medical</option>
                        <option value="commerce">Commerce</option>
                        <option value="arts">Arts</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label for="locationFilter">Location</label>
                    <select id="locationFilter" onchange="applyFilters()">
                        <option value="">All Locations</option>
                        <option value="delhi">Delhi</option>
                        <option value="mumbai">Mumbai</option>
                        <option value="bangalore">Bangalore</option>
                        <option value="chennai">Chennai</option>
                        <option value="pune">Pune</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label for="typeFilter">Type</label>
                    <select id="typeFilter" onchange="applyFilters()">
                        <option value="">All Types</option>
                        <option value="government">Government</option>
                        <option value="private">Private</option>
                        <option value="deemed">Deemed</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label for="feeRange">Fee Range (Annual)</label>
                    <select id="feeRange" onchange="applyFilters()">
                        <option value="">All Ranges</option>
                        <option value="0-100000">Under ₹1 Lakh</option>
                        <option value="100000-500000">₹1-5 Lakhs</option>
                        <option value="500000-1000000">₹5-10 Lakhs</option>
                        <option value="1000000+">Above ₹10 Lakhs</option>
                    </select>
                </div>

                <button class="btn btn-secondary" onclick="resetFilters()">
                    <i class="fas fa-undo"></i>
                    Reset Filters
                </button>
            </div>
        </section>

        <!-- College Results -->
        <section class="college-results">
            <div class="results-header">
                <div class="results-count">
                    <span id="resultsCount">0</span> colleges found
                </div>
                <div class="sort-options">
                    <label for="sortBy">Sort by:</label>
                    <select id="sortBy" onchange="sortResults()">
                        <option value="ranking">Ranking</option>
                        <option value="fees-low">Fees (Low to High)</option>
                        <option value="fees-high">Fees (High to Low)</option>
                        <option value="name">Name (A-Z)</option>
                    </select>
                </div>
            </div>

            <div class="college-list" id="collegeList">
                <!-- Colleges will be dynamically loaded here -->
            </div>
        </section>
    </div>

    <script src="../js/script.js"></script>
    <script>
        // College data
        const collegeData = [
            {
                name: 'IIT Bombay',
                location: 'Mumbai',
                state: 'Maharashtra',
                type: 'government',
                stream: 'engineering',
                fees: 253000,
                rating: 4.9,
                ranking: 1,
                cutoff: 'JEE Advanced: 1-100 (General)',
                placements: 'Average: ₹20 LPA, Highest: ₹1.8 Cr',
                established: 1958,
                website: 'www.iitb.ac.in'
            },
            {
                name: 'AIIMS Delhi',
                location: 'Delhi',
                state: 'Delhi',
                type: 'government',
                stream: 'medical',
                fees: 1364,
                rating: 4.8,
                ranking: 1,
                cutoff: 'NEET: 701+ (General)',
                placements: '100% placement in medical field',
                established: 1956,
                website: 'www.aiims.edu'
            },
            {
                name: 'Delhi University',
                location: 'Delhi',
                state: 'Delhi',
                type: 'government',
                stream: 'arts',
                fees: 50000,
                rating: 4.5,
                ranking: 3,
                cutoff: 'CUET: 98%+ (General)',
                placements: 'Average: ₹8 LPA',
                established: 1922,
                website: 'www.du.ac.in'
            },
            {
                name: 'IIM Ahmedabad',
                location: 'Ahmedabad',
                state: 'Gujarat',
                type: 'government',
                stream: 'commerce',
                fees: 2500000,
                rating: 4.7,
                ranking: 1,
                cutoff: 'CAT: 99.5+ percentile',
                placements: 'Average: ₹25 LPA',
                established: 1961,
                website: 'www.iima.ac.in'
            },
            {
                name: 'Manipal Institute of Technology',
                location: 'Manipal',
                state: 'Karnataka',
                type: 'private',
                stream: 'engineering',
                fees: 1800000,
                rating: 4.2,
                ranking: 15,
                cutoff: 'MET: 85+ percentile',
                placements: 'Average: ₹12 LPA',
                established: 1957,
                website: 'www.manipal.edu'
            }
        ];

        let filteredColleges = [...collegeData];

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            displayColleges();
            updateResultsCount();
        });

        // Apply filters
        function applyFilters() {
            const streamFilter = document.getElementById('streamFilter').value;
            const locationFilter = document.getElementById('locationFilter').value;
            const typeFilter = document.getElementById('typeFilter').value;
            const feeRangeFilter = document.getElementById('feeRange').value;

            filteredColleges = collegeData.filter(college => {
                let matches = true;

                if (streamFilter && college.stream !== streamFilter) matches = false;
                if (locationFilter && college.location.toLowerCase() !== locationFilter) matches = false;
                if (typeFilter && college.type !== typeFilter) matches = false;

                if (feeRangeFilter) {
                    const [min, max] = feeRangeFilter.split('-').map(v => v.replace('+', ''));
                    const fees = college.fees;
                    if (max) {
                        if (fees < parseInt(min) || fees > parseInt(max)) matches = false;
                    } else {
                        if (fees < parseInt(min)) matches = false;
                    }
                }

                return matches;
            });

            displayColleges();
            updateResultsCount();
            sortResults();
        }

        // Sort results
        function sortResults() {
            const sortBy = document.getElementById('sortBy').value;

            filteredColleges.sort((a, b) => {
                switch(sortBy) {
                    case 'ranking':
                        return a.ranking - b.ranking;
                    case 'fees-low':
                        return a.fees - b.fees;
                    case 'fees-high':
                        return b.fees - a.fees;
                    case 'name':
                        return a.name.localeCompare(b.name);
                    default:
                        return 0;
                }
            });

            displayColleges();
        }

        // Display colleges
        function displayColleges() {
            const collegeList = document.getElementById('collegeList');
            collegeList.innerHTML = '';

            filteredColleges.forEach(college => {
                const collegeCard = createCollegeCard(college);
                collegeList.appendChild(collegeCard);
            });
        }

        // Create college card
        function createCollegeCard(college) {
            const card = document.createElement('div');
            card.className = 'college-card';

            card.innerHTML = `
                <div class="college-header">
                    <div class="college-info">
                        <h3>${college.name}</h3>
                        <p class="college-location">
                            <i class="fas fa-map-marker-alt"></i>
                            ${college.location}, ${college.state}
                        </p>
                        <div class="college-tags">
                            <span class="tag tag-${college.type}">${college.type}</span>
                            <span class="tag tag-${college.stream}">${college.stream}</span>
                        </div>
                    </div>
                    <div class="college-rating">
                        <div class="rating-value">${college.rating}</div>
                        <div class="rating-stars">
                            ${'★'.repeat(Math.floor(college.rating))}${'☆'.repeat(5-Math.floor(college.rating))}
                        </div>
                    </div>
                </div>

                <div class="college-details">
                    <div class="detail-item">
                        <strong>Annual Fees:</strong>
                        ₹${college.fees.toLocaleString()}
                    </div>
                    <div class="detail-item">
                        <strong>Cutoff:</strong>
                        ${college.cutoff}
                    </div>
                    <div class="detail-item">
                        <strong>Placements:</strong>
                        ${college.placements}
                    </div>
                    <div class="detail-item">
                        <strong>Established:</strong>
                        ${college.established}
                    </div>
                </div>

                <div class="college-actions">
                    <button class="btn btn-outline" onclick="viewCollegeDetails('${college.name}')">
                        <i class="fas fa-info-circle"></i>
                        View Details
                    </button>
                    <button class="btn btn-primary" onclick="compareCollege('${college.name}')">
                        <i class="fas fa-balance-scale"></i>
                        Compare
                    </button>
                    <button class="btn btn-secondary" onclick="visitWebsite('${college.website}')">
                        <i class="fas fa-external-link-alt"></i>
                        Visit Website
                    </button>
                </div>
            `;

            return card;
        }

        // Update results count
        function updateResultsCount() {
            document.getElementById('resultsCount').textContent = filteredColleges.length;
        }

        // Reset filters
        function resetFilters() {
            document.getElementById('streamFilter').value = '';
            document.getElementById('locationFilter').value = '';
            document.getElementById('typeFilter').value = '';
            document.getElementById('feeRange').value = '';

            filteredColleges = [...collegeData];
            displayColleges();
            updateResultsCount();
            sortResults();
        }

        // View college details
        function viewCollegeDetails(collegeName) {
            const college = collegeData.find(c => c.name === collegeName);
            if (college) {
                CareerCompass.showNotification(`Viewing details for ${college.name}`, 'info');
                // In real app, would navigate to detailed college page
            }
        }

        // Compare college
        function compareCollege(collegeName) {
            CareerCompass.showNotification(`Added ${collegeName} to comparison`, 'success');
            // In real app, would add to comparison list
        }

        // Visit website
        function visitWebsite(website) {
            window.open(`https://${website}`, '_blank');
        }
    </script>

    <style>
        .college-finder-header {
            padding: 2rem 0;
            text-align: center;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 2rem;
        }

        .college-filters {
            background: var(--background-white);
            padding: 2rem;
            border-radius: var(--border-radius);
            margin-bottom: 2rem;
            box-shadow: var(--shadow-light);
        }

        .filter-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            align-items: end;
        }

        .filter-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text-primary);
        }

        .filter-group select {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius);
            font-size: 1rem;
        }

        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding: 1rem 0;
            border-bottom: 1px solid var(--border-color);
        }

        .results-count {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--primary-color);
        }

        .sort-options {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .college-list {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .college-card {
            background: var(--background-white);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            box-shadow: var(--shadow-light);
            transition: var(--transition);
        }

        .college-card:hover {
            box-shadow: var(--shadow-medium);
        }

        .college-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .college-header h3 {
            color: var(--secondary-color);
            margin-bottom: 0.5rem;
        }

        .college-location {
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .college-tags {
            display: flex;
            gap: 0.5rem;
        }

        .tag {
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .tag-government { background: #e3f2fd; color: #1976d2; }
        .tag-private { background: #fce4ec; color: #c2185b; }
        .tag-deemed { background: #f3e5f5; color: #7b1fa2; }
        .tag-engineering { background: #e8f5e8; color: #2e7d32; }
        .tag-medical { background: #fff3e0; color: #f57c00; }
        .tag-commerce { background: #e1f5fe; color: #0277bd; }
        .tag-arts { background: #f9fbe7; color: #689f38; }

        .college-rating {
            text-align: center;
        }

        .rating-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-color);
        }

        .rating-stars {
            color: #ffc107;
            font-size: 0.9rem;
        }

        .college-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
            padding: 1rem;
            background: var(--background-light);
            border-radius: var(--border-radius);
        }

        .detail-item {
            font-size: 0.9rem;
        }

        .college-actions {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        @media (max-width: 768px) {
            .college-header {
                flex-direction: column;
                gap: 1rem;
            }

            .filter-container {
                grid-template-columns: 1fr;
            }

            .results-header {
                flex-direction: column;
                gap: 1rem;
                align-items: flex-start;
            }

            .college-actions {
                flex-direction: column;
            }
        }
    </style>
</body>
</html>